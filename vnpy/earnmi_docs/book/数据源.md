#行情
###行情框架
![](../imges/bar_data_overview.jpg)

<span id="BarDataDriver"/>
###BarDriver
行情驱动:用来管理某一类股票池的行情数据的下载、存储、网络获取。
+   getCodes: 该驱动器所支持的股票代码池
+   fetchBarData：从网络上获取获取历史行情数据。
+   fetchLatestBar: 从网络上获取获取实时价格数据
通过BarDataDriver的，上面层market、BarDataSource就可以不需要关心缓存、存储、数据更新、线程安全问题去获取。

#####目前支持的驱动器
name|股票池|说明
--|--|--
StockIndexDriver|创业、上证、深证指数| 基础数据、判断交易日、是否开市的数据基础。
ZZ500_DataDriver|中证500股票池|开发中
SW_DataDriver|申万二级股票池|开发中

<span id="BarData"/>
###BarData

行情的时间粒度分为：日、分钟、周、月行情

##### 基础数据:
    基础数据是BarData最原始的数据。
    + open_price  : 开盘价
    + high_price: 最高价
    + low_price: 最低价
    + close_price: 收盘价
    + volume: 成交量

##### 加工数据

######买卖价格sell_price、 buy_price
+   sell_price: 当时的卖方价格。
    卖方价格可以认为是超过当天收盘价的卖方力量与买房力量在看多方向的妥协价格
    sell_price = (high_price + close_price) / 2
+   buy_price : 当时的买房价格
    买房价格可以认为是超过当天收盘价的卖方力量与买房力量在看空方向上的妥协价格
    buy_price= (low_price + close_price) / 2

###### 多空占比short_long_rate
    short_long_rate: 多空力量对比，价格走势低于上次开盘价的总成交量 / 价格走势高于上次开盘价的总成交量

###### 多空力量对比long_power、show_power、watch_power
+   long_power: 看多力量， 价格走势高于sell_price的成交量 / 总成交量
+   show_power: 看空力量， 价格走势低于buy_price的成交量 / 总成交量
+   watch_power:观望力量,  1 - long_power - short_power
    







<span id="Market"/>
###使用数据:Market,BarDataSoruce

#####方式一

#####方式二

Market可以在Runner框架运行，在实盘环境或者回测环境使用。

##### 中证500:
ZZ500_Market


##### 申万二级行业数据:
SW2_Market

###更新


##数据源:BarDataSource
BarDataSource

####申万二级行情：SWDataSource
   具体实现方式来自:SW
####中证500日行情:ZZ500DataSource

中证500的股票列表，过滤掉最近2年新上市的，jq模式的代码，总共485个


