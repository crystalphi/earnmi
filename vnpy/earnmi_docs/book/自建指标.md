#自建指标


实现类:chart.Factory


###vibrate：横向盘整指标

```javascript
def vibrate(close, open, period=12)
```
参数: period :值表示一段时间的横向震荡率，值越小，说明横向震荡的趋势约明显，越大说明横向的趋势越不明显
#####统计情况： <br>
以下是统计中证500数据，数据量为53 .5万，在各区间的值分布如下：  

period | 值范围   | 0以下占比 | 0-100占比 |100以上占比
 :----:  | :----:  | :----:  | :----:  | :----:
30 | 1.6~289.75 | 0.00% | 99.37% |0.63% 
20 | 0.88~194.94 | 0.00% | 99.90% |0.10%
12 | 0.34~109.43 | 0.00% | 100.00% |0.00%
9 | 0.14~79.57| 0.00% | 100.00% |0.00%
7 | 0.12~55.03 | 0.00% | 100.00% |0.00%

###ad:改进后的AD：
Marc Chaikin提出的一种平衡交易量指标，以当日的收盘价位来估算成交流量，用于估定一段时间内该证券累积的资金流量。
计算公式：

```javascript
A/D = 昨日A/D + 多空对比 * 今日成交量 
```
其中：
```javascript
多空对比 = [（收盘价- 最低价） - （最高价 - 收盘价）] / （最高价 - 最低价)
```

应当注意A/D忽略了缺口的影响（最低价是正或最高价是负的），事实上，跳空缺口的意义是不能轻易忽略的：

#####如何抵消这个缺口影响： 
```javascript
最高价 = max(上一个收盘价,最高价）
最低价=min（上一个收盘价，最低价）
多空对比 = [（收盘价- 最低价） - （最高价 - 收盘价）] / （最高价 - 最低价)
```


###wave: 波浪指标

 参考Arron方式，wave指标统计在一个period周期内的波动率，也就是创新高值的能力。创新高的有create_high个，创新低的有几个create_low。
```javascript
high_wave =  100 * create_high / period
low_wave = 100 * create_low / period
```
最好结合Aoon指标来衡量一个数据的波动能力


